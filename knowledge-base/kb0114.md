With a little more work this can be entirely done on Linux with Keyman 17+:

## Prerequisites

- You'll need node.js, version 18.0 or later. On Ubuntu 24.04 this can be installed with:

  ```bash
  sudo apt install npm
  ```

  For older Ubuntu versions consult the nodejs.org website.

- Then install the Keyman keyboard compiler:

  ```bash
  sudo npm install -g @keymanapp/kmc
  ```

## Convert the .kmn source file into a .kmp keyboard package

(replace `mykeyboard` with the name of your .kmn file)
- Create a file `mykeyboard.kpj`:

  ```xml
  <KeymanDeveloperProject>
    <Options>
      <Version>2.0</Version>
    </Options>
  </KeymanDeveloperProject>
  ```

- Create a file `source/mykeyboard.kps`:

  ```xml
  <Package>
    <Info>
      <Name>MyKeyboard</Name>
    </Info>
    <Files>
      <File>
        <Name>../build/mykeyboard.kmx</Name>
      </File>
    </Files>
    <Keyboards>
      <Keyboard>
        <Name>MyKeyboard</Name>
        <ID>mykeyboard</ID>
      </Keyboard>
    </Keyboards>
  </Package>
  ```

- Move your .kmn file to `source/mykeyboard.kmn`.

- Build with:

  ```bash
  kmc build mykeyboard.kpj
  ```

In the current version (17.0.326) this will fail with `"TypeError: Cannot read properties of undefined (reading 'description')"` (issue [#11856](https://github.com/keymanapp/keyman/issues/11856)), but it will already have created the .kmp file in the `build`
subdirectory. You can install the .kmp file with:

```bash
km-package-install -f build/mykeyboard.kmp
```

or with the Keyman Configuration tool.

(To properly do this without an error, you'll have to add some additional fields to the .kps file. It's easiest to let the `kmconvert` tool generate a template which will contain all necessary fields:

```bash
kmconvert template -id mykeyboard
```

Unfortunately this tools isn't available for Linux yet. You should be able to use it in wine though.)